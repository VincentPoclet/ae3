<!DOCTYPE html>
<html>
<head>
	<title>AE3 - Autant En Emporte l'Event</title>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css" />
	<script src="lib/jquery.min.js"></script>
	<script src="lib/angular.min.js"></script>
	<script src="lib/angular-route.min.js"></script>
	<script src="lib/bootstrap/js/bootstrap.js"></script>
	<script async defer	src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD2y0e-JdpOMMgJkwiN16jZExQ2fINrq2E"></script>
	<link rel="stylesheet" href="styles/main.css">

	<!-- Include iziToast -->
	<script src="lib/iziToast/dist/js/iziToast.min.js"></script>
	<link rel="stylesheet" href="lib/iziToast/dist/css/iziToast.min.css" />
</head>
<body ng-app="ae3" ng-controller="indexController">
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#!/">AE3</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li id="tab01" class="active navtabs"><a href="#!/">Home</a></li>
					<li id="tab02" class="navtabs"><a href="#!/planning">Planning</a></li>
					<!-- <li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a href="#">Action</a></li>
							<li><a href="#">Another action</a></li>
							<li><a href="#">Something else here</a></li>
							<li role="separator" class="divider"></li>
							<li class="dropdown-header">Nav header</li>
							<li><a href="#">Separated link</a></li>
							<li><a href="#">One more separated link</a></li>
						</ul>
					</li> -->
				</ul> 
				<ul ng-switch="session" class="nav navbar-nav navbar-right">
					<li id="tab03" class="navtabs" ng-switch-when="false"><a href="#!/login">Login</a></li>
					<li id="tab04" class="navtabs" ng-switch-when="true" class="dropdown"><a class="dropdown-toggle" data-toggle="dropdown" role="button">Welcome {{nomUser}} {{prenomUser}} <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li id="tab04_1" class="navtabs"><a href="#!/acc">Account managment</a></li>
							<li id="tab04_2" class="navtabs"><a href="#!/accPlannings">My plannings</a></li>
							<li id="tab04_3" class="navtabs"><a ng-click="destroySession();" href="#!/">Log Out</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div style="height: 65px;"></div>
	<!-- ngswitch avec url + nginclude pour avoir la map quoiqu'il arrive -->
	<!-- <div class="container-fluid" ng-view></div> -->
	<div ng-switch="includeMap" class="container-fluid">
		<div ng-switch-when="false" class="container-fluid">
			<div ng-view></div>
			<!-- <div>test</div> -->
		</div>
		<div ng-switch-when="true" class="container-fluid">
			<div ng-view></div>
			<!-- <div> {{includeMap}} </div> -->
			<div ng-include src="'templates/deadLink.html'"></div>
		</div>
		<div ng-switch-default class="container-fluid">
			<div ng-view></div>
		</div>
	</div>
</body>

<script>
	function fullHeight() {
		console.log("Set Height !");
		$(".fullHeight").height(($(window).height() - 75));
		// $(".fullHeight").css('max-height', ($(window).height() - 75));

		// $(".fullHeight").find(".panel-footer").css('max-height', $(".fullHeight").height() - $(".fullHeight .panel-heading").outerHeight() - $(".fullHeight .panel-body").outerHeight());
		$(".fullHeight").find(".panel-footer").outerHeight($(".fullHeight").height() - $(".fullHeight .panel-heading").outerHeight() - $(".fullHeight .panel-body").outerHeight());
	}
	window.onresize = fullHeight;
	$(document).ready(fullHeight());
</script>

<script src="js/util.js"></script>
<script src="js/indexJS.js"></script>
<script src="lib/unique.js"></script>
<script src="js/mainJS.js"></script>
<script src="js/loginJS.js"></script>
<script src="js/registerJS.js"></script>
<script src="js/addEventJS.js"></script>
<script src="js/planningJS.js"></script>
<script src="js/accountManagementJS.js"></script>
<script src="js/accountPlanningsJS.js"></script>
</html>